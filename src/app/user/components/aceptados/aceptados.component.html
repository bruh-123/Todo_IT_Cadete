<app-spinner *ngIf="isLoading" [diameter]="100"></app-spinner>
<ng-container *ngIf="!isLoading">
  <mat-card *ngFor="let viaje of viajes">
    <ul>
      <li>
        <p>
          Direcci√≥n:
          {{ viaje.travelEquipmentDTOs[0].equipment.cliente.address }}
        </p>
      </li>
      <li>
        <p>Hora: {{ viaje.creationDate | date: "shortTime" }}</p>
      </li>
      <li>
        <p>
          Equipo:
          {{
            viaje.travelEquipmentDTOs[0].equipment.mark +
              " " +
              viaje.travelEquipmentDTOs[0].equipment.model
          }}
        </p>
      </li>
      <li>
        <p>Estado de viaje: {{ viaje.lastStatusTravel }}</p>
      </li>
      <li>
        <p>ID: {{ viaje.id }}</p>
      </li>
    </ul>
    <mat-card-actions>
      <button
        *ngIf="viaje.lastStatusTravel == 2 || viaje.lastStatusTravel == 6"
        mat-raised-button
        color="warn"
        [disabled]="loading"
        [class.spinner]="loading"
        (click)="rechazarViaje(viaje.id, viaje.lastStatusTravel)"
      >
        rechazar
      </button>
      <button
        *ngIf="viaje.lastStatusTravel == 2 || viaje.lastStatusTravel == 6"
        mat-raised-button
        color="primary"
        (click)="avanzar(viaje.id, viaje.lastStatusTravel)"
      >
        retirar
      </button>
      <button
        *ngIf="viaje.lastStatusTravel == 3 || viaje.lastStatusTravel == 7"
        mat-raised-button
        color="primary"
        (click)="avanzar(viaje.id, viaje.lastStatusTravel)"
      >
        finalizar
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>
